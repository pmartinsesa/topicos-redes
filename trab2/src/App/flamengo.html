<html>
  <head>
    <title>Trabalho 2 Tópicos em Redes de Computadores</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="./scripts/script.js"></script>
    <script type="text/javascript" src="./scripts/path.js"></script>
    <script type="text/javascript" src="./scripts/https.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>

  </head>
  <body>
    <div id="elem">
      <div id="wrapper">
        <div class="container">
          <div class="row">
            <h1>Descubra qual jogador do MENGÃO você é</h1>
            <div class="mb-3">
              <label for="nameInput" class="form-label">Nome</label>
              <input
                v-model="nome"
                type="text"
                class="form-control"
                id="nameInput"
                placeholder="Leo Pereira"
              />
            </div>
            <div class="mb-3">
              <label for="ageInput" class="form-label">Idade</label>
              <input
                v-model="idade"
                type="text"
                class="form-control"
                id="ageInput"
                placeholder="31/01/1996"
              />
            </div>
            <div class="mb-3">
              <label for="weightInput" class="form-label">Peso</label>
              <input
                v-model="peso"
                type="text"
                class="form-control"
                id="weightInput"
                placeholder="84kg"
              />
            </div>
            <div class="mb-3">
              <label for="heightInput" class="form-label">Altura</label>
              <input
                v-model="altura"
                type="text"
                class="form-control"
                id="heightInput"
                placeholder="1,89m"
              />
            </div>
            <button
              v-on:click="Descobrir()"
              style="width: 30%; margin: 6px 12px"
              type="submit"
              class="btn btn-danger text-dark mb-3"
            >
              Descubra
            </button>
          </div>
        </div>
      </div>
    </div>

    <script type="text/javascript">
       // this.$axios({ })
       var vm = new Vue({
           el: "#elem",
           data: {
               nome: null,
               idade: null,
               peso: null,
               altura: null,
               baseURL: "https://localhost:9443",
            },
            created: function () {},
            methods: {
                Descobrir: async function () {
                    const data = {
                        nome: this.nome,
                        idade: this.idade,
                        peso: this.peso,
                        altura: this.altura,
                       
                    };
                    
                    try {
                        keyy = null
                        keyy = fetch('../../../Keys/public-cert.pem')
                        .then(response =>  response.text())
                        console.log(keyy)
                        // outputs the content of the text file
                        const httpsAgent = new Agent({cert: keyy,key:keyy});

              const response = await axios.post(this.baseURL + "/flamengo", {
                data, httpsAgent
              });
              return response;
            } catch (error) {
              console.log("deu ruim ", error);
            }
          },
        },
      });
    </script>
  </body>
  <style>
    body {
      background-image: url("Assets/fla-bg.jpg");
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
    }
  </style>
</html>
